cd ~/veritasengine.in || exit 1

cat > index.html <<'EOF'
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Veritas Interactive Audit Dashboard</title>
<style>
body {
    font-family: Arial, sans-serif;
    background:#f5f7fa;
    margin:0;
    padding:20px;
}
h1 {
    text-align:center;
}
table {
    width:100%;
    border-collapse: collapse;
    margin-top:20px;
}
th, td {
    padding:12px;
    text-align:center;
}
th {
    background:#1f2937;
    color:#fff;
}
tr {
    cursor:pointer;
}
tr:nth-child(even){background:#f0f0f0;}
tr.normal {background:#d1fae5;}
tr.risk {background:#fef3c7;}
tr.suspect {background:#fde68a;}
tr.high {background:#fecaca;}

.badge {
    padding:4px 10px;
    border-radius:12px;
    font-size:12px;
    font-weight:bold;
}

.verified {
    color:#065f46;
}

/* POPUP */
#vault {
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:rgba(0,0,0,0.5);
}
#vaultBox {
    background:#fff;
    width:90%;
    max-width:500px;
    margin:10% auto;
    padding:20px;
    border-radius:8px;
}
#closeBtn {
    float:right;
    cursor:pointer;
    font-weight:bold;
}
pre {
    background:#f3f4f6;
    padding:10px;
    overflow:auto;
}
</style>
</head>
<body>

<h1>Veritas Interactive Audit Dashboard</h1>

<table>
<thead>
<tr>
<th>Transaction ID</th>
<th>Verdict</th>
<th>Proof</th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>

<!-- VAULT POPUP -->
<div id="vault">
  <div id="vaultBox">
    <span id="closeBtn">✖</span>
    <h3>Audit Vault</h3>

    <p><b>Raw Input</b></p>
    <pre id="raw"></pre>

    <p><b>Verification Hash (SHA-256)</b></p>
    <pre id="hash"></pre>

    <p><b>Digital Signature (Ed25519)</b></p>
    <pre id="sig"></pre>

    <p><b>Integrity Seal</b></p>
    <span class="badge verified">✔ Verified by Frozen Core v1.0.0</span>
  </div>
</div>

<script>
/* DEMO DATA (engine later plug hoga) */
const data = [
 {id:101, d:0},
 {id:102, d:1},
 {id:103, d:2},
 {id:104, d:3},
];

const labels = ["NORMAL","RISK","SUSPECT","HIGH-RISK"];
const classes = ["normal","risk","suspect","high"];

const tbody = document.getElementById("rows");

data.forEach(r=>{
  const tr = document.createElement("tr");
  tr.className = classes[r.d];
  tr.innerHTML = `
    <td>${r.id}</td>
    <td>${labels[r.d]}</td>
    <td class="verified">✔ Verified</td>
  `;
  tr.onclick = ()=>openVault(r);
  tbody.appendChild(tr);
});

function openVault(r){
  document.getElementById("raw").textContent =
    JSON.stringify({transaction_id:r.id, verdict:r.d},null,2);

  document.getElementById("hash").textContent =
    "SHA256_" + r.id.toString(16).padStart(8,"0");

  document.getElementById("sig").textContent =
    "ED25519_SIGNATURE_" + r.id;

  document.getElementById("vault").style.display="block";
}

document.getElementById("closeBtn").onclick = ()=>{
  document.getElementById("vault").style.display="none";
};
</script>

</body>
</html>
EOF