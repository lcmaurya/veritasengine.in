<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Cache-Control" content="no-store" />
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Veritas Guard</title>

<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ›¡ï¸</text></svg>">

<style>
body{margin:0;font-family:system-ui;background:#0b1220;color:#e5e7eb}
#legal-marquee{background:#7c2d12;color:#fff;padding:8px 0;font-size:14px}
#app{max-width:480px;margin:40px auto;background:#0f172a;border-radius:12px;padding:20px;box-shadow:0 0 40px rgba(0,0,0,.5)}
h1{text-align:center;margin:0 0 6px}
.tagline{text-align:center;font-size:13px;color:#9ca3af}
textarea{width:100%;height:100px;margin-top:16px;border-radius:8px;border:1px solid #334155;padding:12px;background:#020617;color:#e5e7eb}
textarea:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 15px rgba(59,130,246,.4)}
.btn-primary{width:100%;margin-top:12px;padding:14px;border:none;border-radius:8px;background:#2563eb;color:white;font-size:16px;font-weight:bold}
#resultSection{display:none;margin-top:20px;background:#1e293b;padding:15px;border-radius:8px;border:1px solid #334155}
.risk-badge{display:inline-block;padding:6px 12px;border-radius:4px;font-weight:bold}
.signals-list{padding-left:20px;font-size:13px;color:#9ca3af}
.hash-display{margin-top:10px;font-family:monospace;font-size:10px;color:#64748b}
footer{text-align:center;font-size:12px;color:#6b7280;margin:30px 0}
</style>
</head>

<body>

<marquee id="legal-marquee"></marquee>

<div id="app">
<h1>ğŸ›¡ï¸ Veritas Guard</h1>
<div class="tagline" id="tagline"></div>

<textarea id="input-text"></textarea>
<button class="btn-primary" onclick="analyzeText()" id="analyze-btn"></button>

<div id="resultSection">
<div id="riskBadge" class="risk-badge"></div>
<div id="explainText"></div>
<ul id="signalsList" class="signals-list"></ul>
<div id="hashDisplay" class="hash-display"></div>
</div>

<div style="font-size:12px;color:#9ca3af;margin-top:10px;text-align:center">
ğŸ”’ No Login Â· No Permissions Â· No Data Stored
</div>
</div>

<footer>
Â© Veritas Engine â€” Open Risk Awareness Tool<br/>
No charges. No guarantees. No liability.
</footer>

<script>
const API_URL = "https://hsyntygyto.a.pinggy.link/api/scan";

const I18N={
en:{
tagline:"Explain risk. Donâ€™t demand trust.",
placeholder:"Paste SMS, WhatsApp message, or link here...",
button:"Analyze Risk Signals",
marquee:"âš ï¸ This tool only highlights known risk patterns. Final responsibility remains with the user."
}
};

document.getElementById("tagline").innerText=I18N.en.tagline;
document.getElementById("input-text").placeholder=I18N.en.placeholder;
document.getElementById("analyze-btn").innerText=I18N.en.button;
document.getElementById("legal-marquee").innerText=I18N.en.marquee;

async function analyzeText(){
const text=document.getElementById("input-text").value.trim();
if(!text)return;

document.getElementById("resultSection").style.display="none";

try{
const res=await fetch(API_URL,{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({text})
});
const data=await res.json();

const labels=["SAFE","ATTENTION","RISK","HIGH RISK"];
const colors=["#10b981","#eab308","#f97316","#ef4444"];

const badge=document.getElementById("riskBadge");
badge.innerText=labels[data.verdict];
badge.style.color=colors[data.verdict];

document.getElementById("explainText").innerText=data.explain_text;
document.getElementById("signalsList").innerHTML=data.fired_rules.map(r=>`<li>${r}</li>`).join("");
document.getElementById("hashDisplay").innerText="Audit Hash: "+data.audit_hash;

document.getElementById("resultSection").style.display="block";
}catch(e){
alert("Engine unreachable");
}
}
</script>

</body>
</html>